{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mariu\\\\Desktop\\\\Korpetycje\\\\Marta_Sobron\\\\store 15.09.2023\\\\store-main\\\\src\\\\context\\\\CardContext.js\",\n  _s = $RefreshSig$();\nimport { createContext } from \"react\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CardContext = /*#__PURE__*/createContext();\nexport function CardProvider(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [items, setItems] = useState([]);\n  const [newPrice, setNewPrice] = useState(0);\n  const addToCard = (id, photo, name, price) => {\n    const existItem = items.find(item => item.id === id);\n    if (existItem) {\n      existItem.quantity++;\n    } else {\n      setItems([...items, {\n        id: id,\n        photo: photo,\n        name: name,\n        price: price,\n        quantity: 1\n      }]);\n    }\n    setNewPrice(newPrice + price);\n  };\n  const removeSingle = id => {\n    const existItem = items.find(item => item.id === id);\n    if (existItem.quantity === 1) {\n      const itemAfterRemove = items.filter(item => item.id !== id);\n      setItems(itemAfterRemove);\n      console.log(\"itemAfterRemove\", itemAfterRemove);\n    } else {\n      existItem.quantity--;\n    }\n    setNewPrice(newPrice - existItem.price);\n  };\n  const removeAll = () => {\n    setItems([]);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(CardContext.Provider, {\n      value: {\n        addToCard,\n        removeSingle,\n        removeAll,\n        items,\n        newPrice\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(CardProvider, \"7G6cGVjKkBCgCB4/3UAiAse9JiE=\");\n_c = CardProvider;\nexport default CardContext;\nvar _c;\n$RefreshReg$(_c, \"CardProvider\");","map":{"version":3,"names":["createContext","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","CardContext","CardProvider","_ref","_s","children","items","setItems","newPrice","setNewPrice","addToCard","id","photo","name","price","existItem","find","item","quantity","removeSingle","itemAfterRemove","filter","console","log","removeAll","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mariu/Desktop/Korpetycje/Marta_Sobron/store 15.09.2023/store-main/src/context/CardContext.js"],"sourcesContent":["import { createContext } from \"react\";\nimport { useState } from \"react\";\n\nconst CardContext = createContext();\n\nexport function CardProvider({ children }) {\n  const [items, setItems] = useState([]);\n  const [newPrice, setNewPrice] = useState(0);\n\n  const addToCard = (id, photo, name, price) => {\n    const existItem = items.find((item) => item.id === id);\n\n    if (existItem) {\n      existItem.quantity++;\n    } else {\n      setItems([\n        ...items,\n        { id: id, photo: photo, name: name, price: price, quantity: 1 },\n      ]);\n    }\n    setNewPrice(newPrice + price);\n  };\n\n  const removeSingle = (id) => {\n    const existItem = items.find((item) => item.id === id);\n\n    if (existItem.quantity === 1) {\n      const itemAfterRemove = items.filter((item) => item.id !== id);\n      setItems(itemAfterRemove);\n      console.log(\"itemAfterRemove\", itemAfterRemove);\n    } else {\n      existItem.quantity--;\n    }\n\n    setNewPrice(newPrice - existItem.price);\n  };\n\n  const removeAll = () => {\n    setItems([]);\n  };\n\n  return (\n    <>\n      <CardContext.Provider\n        value={{ addToCard, removeSingle, removeAll, items, newPrice }}\n      >\n        {children}\n      </CardContext.Provider>\n    </>\n  );\n}\n\nexport default CardContext;\n"],"mappings":";;AAAA,SAASA,aAAa,QAAQ,OAAO;AACrC,SAASC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEjC,MAAMC,WAAW,gBAAGN,aAAa,EAAE;AAEnC,OAAO,SAASO,YAAYA,CAAAC,IAAA,EAAe;EAAAC,EAAA;EAAA,IAAd;IAAEC;EAAS,CAAC,GAAAF,IAAA;EACvC,MAAM,CAACG,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC;EAE3C,MAAMc,SAAS,GAAGA,CAACC,EAAE,EAAEC,KAAK,EAAEC,IAAI,EAAEC,KAAK,KAAK;IAC5C,MAAMC,SAAS,GAAGT,KAAK,CAACU,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACN,EAAE,KAAKA,EAAE,CAAC;IAEtD,IAAII,SAAS,EAAE;MACbA,SAAS,CAACG,QAAQ,EAAE;IACtB,CAAC,MAAM;MACLX,QAAQ,CAAC,CACP,GAAGD,KAAK,EACR;QAAEK,EAAE,EAAEA,EAAE;QAAEC,KAAK,EAAEA,KAAK;QAAEC,IAAI,EAAEA,IAAI;QAAEC,KAAK,EAAEA,KAAK;QAAEI,QAAQ,EAAE;MAAE,CAAC,CAChE,CAAC;IACJ;IACAT,WAAW,CAACD,QAAQ,GAAGM,KAAK,CAAC;EAC/B,CAAC;EAED,MAAMK,YAAY,GAAIR,EAAE,IAAK;IAC3B,MAAMI,SAAS,GAAGT,KAAK,CAACU,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACN,EAAE,KAAKA,EAAE,CAAC;IAEtD,IAAII,SAAS,CAACG,QAAQ,KAAK,CAAC,EAAE;MAC5B,MAAME,eAAe,GAAGd,KAAK,CAACe,MAAM,CAAEJ,IAAI,IAAKA,IAAI,CAACN,EAAE,KAAKA,EAAE,CAAC;MAC9DJ,QAAQ,CAACa,eAAe,CAAC;MACzBE,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEH,eAAe,CAAC;IACjD,CAAC,MAAM;MACLL,SAAS,CAACG,QAAQ,EAAE;IACtB;IAEAT,WAAW,CAACD,QAAQ,GAAGO,SAAS,CAACD,KAAK,CAAC;EACzC,CAAC;EAED,MAAMU,SAAS,GAAGA,CAAA,KAAM;IACtBjB,QAAQ,CAAC,EAAE,CAAC;EACd,CAAC;EAED,oBACET,OAAA,CAAAE,SAAA;IAAAK,QAAA,eACEP,OAAA,CAACG,WAAW,CAACwB,QAAQ;MACnBC,KAAK,EAAE;QAAEhB,SAAS;QAAES,YAAY;QAAEK,SAAS;QAAElB,KAAK;QAAEE;MAAS,CAAE;MAAAH,QAAA,EAE9DA;IAAQ;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACY,iBACtB;AAEP;AAAC1B,EAAA,CA7CeF,YAAY;AAAA6B,EAAA,GAAZ7B,YAAY;AA+C5B,eAAeD,WAAW;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}